<!DOCTYPE html>
<html lang="en">
  <head><meta name="generator">
    <meta charset="utf-8">

    <title>Malina.js | API</title>
    <meta name="description" content>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- fonts -->
    <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Ubuntu:300,400,500,600,700" rel="stylesheet">

    <!-- stylesheets -->
    <link rel="stylesheet" href="./doc.css">
    <link rel="stylesheet" href="./pygments.css">

    <!-- favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png">

  </head>
<body>

  <div class="doc-navigation">
      <nav class="doc-navbar">
        <a href="/docs/" class="doc-navbar__logo">
        <img src="./favicon-32x32.png" class="doc-navbar__logo__img">
        <span class="doc-navbar__logo__text">Malina.js</span>
        </a>
      </nav>
      <nav class="doc-sidebar">
        <div class="doc-sidebar-content">
            <ul class="doc-sidebar-list">

              <li class="doc-sidebar-list__item doc-sidebar-list__item--link">
                <a target="_blank" class="external" href="https://malinajs.github.io/repl/"><span><b>Try online [REPL]</b></span></a>
              </li>

              
<li class="doc-sidebar-list__item doc-sidebar-list__item--link"><a href="v0.6.html"><span><b>v0.6</b></span></a></li><li class="doc-sidebar-list__item doc-sidebar-list__item--link"><a href="#expression-in-text"><span><b>Expression in text</b></span></a><ul class="doc-sidebar-list__toc-list"></ul></li><li class="doc-sidebar-list__item doc-sidebar-list__item--link"><a href="#bindings"><span><b>Bindings</b></span></a><ul class="doc-sidebar-list__toc-list">
          <li class="doc-sidebar-list__toc-item">
            <a href="#reference" data-scroll="true">
              <span>Reference</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#1-way-binding" data-scroll="true">
              <span>1-way binding</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#2-way-binding" data-scroll="true">
              <span>2-way binding</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#class-and-style" data-scroll="true">
              <span>Class and Style</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#actions" data-scroll="true">
              <span>Actions</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#insert-js" data-scroll="true">
              <span>Insert JS</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#events" data-scroll="true">
              <span>Events</span>
            </a>
          </li>
        </ul></li><li class="doc-sidebar-list__item doc-sidebar-list__item--link"><a href="#control-blocks"><span><b>Control blocks</b></span></a><ul class="doc-sidebar-list__toc-list">
          <li class="doc-sidebar-list__toc-item">
            <a href="#if-else" data-scroll="true">
              <span>#if-else</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#each" data-scroll="true">
              <span>#each</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#fragment" data-scroll="true">
              <span>#fragment</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#await" data-scroll="true">
              <span>#await</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#html" data-scroll="true">
              <span>@html</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#portal" data-scroll="true">
              <span>Portal</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#head--body--window" data-scroll="true">
              <span>head / body / window</span>
            </a>
          </li>
        </ul></li><li class="doc-sidebar-list__item doc-sidebar-list__item--link"><a href="#components"><span><b>Components</b></span></a><ul class="doc-sidebar-list__toc-list">
          <li class="doc-sidebar-list__toc-item">
            <a href="#structure" data-scroll="true">
              <span>Structure</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#properties-and-attributes" data-scroll="true">
              <span>Properties and attributes</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#2-way-binding-1" data-scroll="true">
              <span>2-way binding</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#events-1" data-scroll="true">
              <span>Events</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#slots" data-scroll="true">
              <span>Slots</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#call-child-fragment--inverted-slot" data-scroll="true">
              <span>Call child fragment / Inverted slot</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#anchor" data-scroll="true">
              <span>Anchor</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#dynamic-component" data-scroll="true">
              <span>Dynamic component</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#passing-css-class" data-scroll="true">
              <span>Passing CSS class</span>
            </a>
          </li>
        </ul></li><li class="doc-sidebar-list__item doc-sidebar-list__item--link"><a href="#other"><span><b>Other</b></span></a><ul class="doc-sidebar-list__toc-list">
          <li class="doc-sidebar-list__toc-item">
            <a href="#property" data-scroll="true">
              <span>Property</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#onmount--ondestroy" data-scroll="true">
              <span>onMount / onDestroy</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#turn-change-detector-off" data-scroll="true">
              <span>Turn change-detector off</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#scoped-css" data-scroll="true">
              <span>Scoped CSS</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#watch-expression-reactivity" data-scroll="true">
              <span>Watch expression, reactivity</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#context" data-scroll="true">
              <span>$context</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#error-handling" data-scroll="true">
              <span>Error handling</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#malinaconfigjs" data-scroll="true">
              <span>malina.config.js</span>
            </a>
          </li>
        
          <li class="doc-sidebar-list__toc-item">
            <a href="#compile-options" data-scroll="true">
              <span>Compile options</span>
            </a>
          </li>
        </ul></li>
            </ul>
        </div>
      </nav>
  </div>

  <div class="doc-content">
    <div class="dc-page">
      <div class="dc-card">
        <div id="page-content" class="doc-formatting">
          <body><h1 id="expression-in-text">Expression in text</h1>
<div class="columns2"><div><p>You can bind JavaScript expression in html-template.</p></div><div><pre><code class="language-html"><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token expression"><span class="token punctuation">{</span><span class="token javascript">name</span><span class="token punctuation">}</span></span>
  <span class="token expression"><span class="token punctuation">{</span><span class="token javascript"><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span>
  <span class="token expression"><span class="token punctuation">{</span><span class="token javascript">a</span><span class="token punctuation">}</span></span> + <span class="token expression"><span class="token punctuation">{</span><span class="token javascript">b</span><span class="token punctuation">}</span></span> = <span class="token expression"><span class="token punctuation">{</span><span class="token javascript">a <span class="token operator">+</span> b</span><span class="token punctuation">}</span></span>
  <span class="token expression"><span class="token punctuation">{</span><span class="token javascript"><span class="token string">'text with "quotes"'</span> <span class="token operator">+</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">123</span><span class="token template-punctuation string">`</span></span></span><span class="token punctuation">}</span></span>
  <span class="token expression"><span class="token punctuation">{</span><span class="token javascript">`js template $</span><span class="token punctuation">{</span><span class="token javascript">variable</span><span class="token punctuation">}</span></span>`}
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>


<h1 id="bindings">Bindings</h1>
<h2 id="reference">Reference</h2>
<div class="columns2"><div><p>You can get reference to element/component using <code>#ref</code> and save it to a variable. Variable is set to null on destroying.</p></div><div><pre><code class="language-html"><span class="token script"><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span><span class="token javascript">
  <span class="token keyword">let</span> ref<span class="token punctuation">;</span>
  <span class="token keyword">let</span> component<span class="token punctuation">;</span>
</span><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span></span>

<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">input</span></span><span class="token ref"> <span class="token keyword">#</span><span class="token javascript">ref</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">Component</span></span><span class="token ref"> <span class="token keyword">#</span><span class="token javascript">component</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div></div>


<h2 id="1-way-binding">1-way binding</h2>
<div class="columns2"><div><p>For binding to attributes and properties you can write <code>attribute={value}</code>, if attribute and variable names the same you can use shortcut <code>{attribute}</code>, for binding you can use JavaScript expression.</p></div><div><pre><code class="language-html"><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">input</span></span> <span class="token attr-name">value</span><span class="token attr-value">=<span class="token punctuation">"</span></span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">value</span><span class="token punctuation">}</span></span><span class="token attr-value"><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">input</span></span> <span class="token attr-name">value</span><span class="token punctuation">=</span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">value</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">input</span></span> <span class="token expression"><span class="token punctuation">{</span><span class="token javascript">value</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">button</span></span> <span class="token attr-name">disabled</span><span class="token punctuation">=</span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript"><span class="token operator">!</span>clickable</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>Click<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">button</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>


<div class="columns2"><div><p>Also you can <em>spread</em> an object to attributes.</p></div><div><pre><code class="language-html"><span class="token script"><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span><span class="token javascript">
  <span class="token keyword">let</span> props <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'Hello'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Some title'</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span></span>

<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">input</span></span> <span class="token expression"><span class="token punctuation">{</span><span class="token javascript"><span class="token operator">...</span>props</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div></div>


<h2 id="2-way-binding">2-way binding</h2>
<div class="columns2"><div><p>For 2-way binding you can use <code>bind:value={value}</code> or shortcut <code>:value={value}</code>, when property name the same as variable name you can omit it, e.g. <code>:value</code></p></div><div><pre><code class="language-html"><span class="token script"><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span><span class="token javascript">
  <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> checked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
</span><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">input</span></span> <span class="token attr-name">type</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token bind"> <span class="token keyword">:</span><span class="token attr-name">value=</span></span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">name</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">input</span></span> <span class="token attr-name">type</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span><span class="token bind"> <span class="token keyword">:</span><span class="token attr-name">checked</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div></div>


<h2 id="class-and-style">Class and Style</h2>
<div class="columns2"><div><p>To set class and style you can use <code>class:className={condition}</code>, <code>style:styleName={value}</code>.</p></div><div><pre><code class="language-html"><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">div</span></span><span class="token style"> <span class="token keyword">class:</span><span class="token attr-name">blue</span><span class="token punctuation">=</span></span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">value</span><span class="token punctuation">}</span></span><span class="token style"> <span class="token keyword">class:</span><span class="token attr-name">red</span><span class="token punctuation">=</span></span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript"><span class="token operator">!</span>value</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>by class name<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">div</span></span> <span class="token attr-name">class</span><span class="token attr-value">=<span class="token punctuation">"</span></span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">value<span class="token operator">?</span><span class="token string">'red'</span><span class="token operator">:</span><span class="token string">'blue'</span></span><span class="token punctuation">}</span></span><span class="token attr-value"><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>attribute class<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">b</span></span> <span class="token attr-name">style</span><span class="token attr-value">="color: </span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">value<span class="token operator">?</span><span class="token string">'green'</span><span class="token operator">:</span><span class="token string">'red'</span></span><span class="token punctuation">}</span></span><span class="token attr-value">;<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>style as string<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">b</span></span><span class="token punctuation">&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">div</span></span><span class="token style"> <span class="token keyword">style:</span><span class="token attr-name">color</span><span class="token punctuation">=</span></span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">color</span><span class="token punctuation">}</span></span>
 <span class="token style"> <span class="token keyword">style:</span><span class="token javascript">border</span></span>-color<span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span>
 <span class="token style"> <span class="token keyword">style:</span><span class="token javascript">border</span></span><span class="token attr-value">="1px solid </span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">color</span><span class="token punctuation">}</span></span><span class="token attr-value"><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    Style as prop/template
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span>


<span class="token style"><span class="token styletag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">style</span></span><span class="token punctuation">&gt;</span></span></span><span class="token css">
  <span class="token selector">.blue</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token selector">;
  .red</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="token styletag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">style</span></span><span class="token punctuation">&gt;</span></span></span></span></code></pre></div></div>


<h2 id="actions">Actions</h2>
<div class="columns2"><div><p>You can run some JavaScript code on element, <code>use:action={param}</code> or shortcut <code>*action={param}</code>, without arguments it looks like <code>*action</code>.</p><p>Also you can run some JavaScript code where <code>$element</code> is available - <code>*{$element.focus()}</code>.</p></div><div><pre><code class="language-html"><span class="token script"><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span><span class="token javascript">
  <span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
</span><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">div</span></span><span class="token action"> <span class="token keyword">*</span><span class="token javascript">draw</span></span><span class="token punctuation">&gt;</span></span><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">input</span></span><span class="token action"> <span class="token keyword">*</span></span><span class="token expression"><span class="token punctuation">{</span><span class="token keyword">$element</span><span class="token javascript"><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div></div>



<div class="columns2"><div><p>If you need more control you can pass arguments and subscribe for updates and destroy event.</p></div><div><pre><code class="language-html"><span class="token script"><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span><span class="token javascript">
  <span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">update</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">destroy</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">div</span></span><span class="token action"> <span class="token keyword">*</span><span class="token javascript">draw</span><span class="token punctuation">=</span></span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">a<span class="token punctuation">,</span> b</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>


<h2 id="insert-js">Insert JS</h2>
<div class="columns2"><div><p>You can insert casual JS in template, a current DOM-node is available as <code>$element</code>.
<a href="https://malinajs.github.io/repl/#/gist/d6f930f4b47e7fed5335be83d692a423?version=0.6.36" target="_blank">example</a></p></div><div><pre><code class="language-html"><span class="token expression"><span class="token punctuation">{</span><span class="token javascript"><span class="token operator">*</span> <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'random code'</span> </span><span class="token punctuation">}</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">div</span></span> <span class="token expression"><span class="token punctuation">{</span><span class="token javascript"><span class="token operator">*</span> </span><span class="token keyword">$element</span><span class="token javascript"><span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'red'</span> </span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token expression"><span class="token punctuation">{</span><span class="token javascript">name</span><span class="token punctuation">}</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>


<h2 id="events">Events</h2>
<div class="columns2"><div><p>To listen events you can use <code>on:eventName={expression}</code> or shortcut <code>@eventName={expression}</code>.</p><p>For expression you can use function name <code>@click={handler}</code> or <code>@click:handler</code>, function declaration <code>@click={(e) =&gt; handler(e)}</code> or js-expression <code>@click={handler($event)}</code>.</p></div><div><pre><code class="language-html"><span class="token script"><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span><span class="token javascript">
  <span class="token keyword">const</span> <span class="token function-variable function">click</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">button</span></span><span class="token event"> <span class="token keyword">@</span><span class="token attr-name">click</span></span><span class="token punctuation">&gt;</span></span>Click<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">button</span></span><span class="token punctuation">&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">button</span></span><span class="token event"> <span class="token keyword">@</span><span class="token attr-name">click</span><span class="token javascript">:click</span></span><span class="token punctuation">&gt;</span></span>Click<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">button</span></span><span class="token punctuation">&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">button</span></span><span class="token event"> <span class="token keyword">@</span><span class="token attr-name">click</span></span><span class="token punctuation">=</span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">click</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>Click<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">button</span></span><span class="token punctuation">&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">button</span></span><span class="token event"> <span class="token keyword">@</span><span class="token attr-name">click</span></span><span class="token punctuation">=</span>{(e) <span class="token punctuation">=</span><span class="token punctuation">&gt;</span></span> click(e)}&gt;Click<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">button</span></span><span class="token punctuation">&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">button</span></span><span class="token event"> <span class="token keyword">@</span><span class="token attr-name">click</span></span><span class="token punctuation">=</span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript"><span class="token function">click</span><span class="token punctuation">(</span></span><span class="token keyword">$event</span><span class="token javascript"><span class="token punctuation">,</span> </span><span class="token keyword">$element</span><span class="token javascript"><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>Click<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">button</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>



<div class="columns2"><div><p>Also you can use modificators for elements: <code>preventDefault</code> or <code>prevent</code>, <code>stopPropagation</code> or <code>stop</code>
for keyboard events: <code>enter</code>, <code>tab</code>, <code>esc</code>, <code>space</code>, <code>up</code>, <code>down</code>, <code>left</code>, <code>right</code>, <code>delete</code>,
meta keys: <code>ctrl</code>, <code>alt</code>, <code>shift</code>, <code>meta</code></p></div><div><pre><code class="language-html"><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">input</span></span> <span class="token attr-name">type</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token event"> <span class="token keyword">@</span><span class="token attr-name">keyup|<span class="token italic">enter</span></span><span class="token javascript">:handler</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div></div>


<div class="columns2"><div><p>Also you can forward events to a parent component, <code>@@eventName</code> to forward one type of event, <code>@@</code> to forward all events from current element, the same works for components.</p></div><div><pre><code class="language-html"><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">button</span></span><span class="token event"> <span class="token keyword">@@</span><span class="token attr-name">click</span></span><span class="token punctuation">&gt;</span></span>Click<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">button</span></span><span class="token punctuation">&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">input</span></span> <span class="token attr-name">type</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token event"> <span class="token keyword">@@</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">Component</span></span><span class="token event"> <span class="token keyword">@@</span><span class="token attr-name">click</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div></div>


<div class="columns2"><div><p>You can use manual event delegation, modifier <code>root</code>.</p></div><div><pre><code class="language-html"><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">div</span></span><span class="token event"> <span class="token keyword">@</span><span class="token attr-name">click|<span class="token italic">root</span></span></span><span class="token punctuation">=</span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">click</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>


<h1 id="control-blocks">Control blocks</h1>
<h2 id="if-else">#if-else</h2>
<div class="columns2"><div><p>Block of template can be rendered by condition.</p></div><div><pre><code class="language-html"><span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#if</span><span class="token javascript"> condition</span><span class="token punctuation">}</span></span>
  One content
<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">:else</span><span class="token punctuation">}</span></span>
  Another content
<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/if</span><span class="token punctuation">}</span></span></code></pre></div></div>


<h2 id="each">#each</h2>
<div class="columns2"><div><p>Iterating over list, you can pass a key which lets to associate item with DOM element, by default key is chosen depends on content.
<a target="_blank" href="https://malinajs.github.io/repl/#/share/TSK8J7eijHo?version=0.6.36">example</a> shows difference depends of used key.</p></div><div><pre><code class="language-html"><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">ul</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#each</span><span class="token javascript"> items <span class="token keyword">as</span> item</span><span class="token punctuation">}</span></span>
    <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">li</span></span><span class="token punctuation">&gt;</span></span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">item<span class="token punctuation">.</span>name</span><span class="token punctuation">}</span></span><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">li</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/each</span><span class="token punctuation">}</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">ul</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>


<p>Examples:</p>
<pre><code class="language-html"><span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#each</span><span class="token javascript"> items <span class="token keyword">as</span> item</span><span class="token punctuation">}</span></span>...<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/each</span><span class="token punctuation">}</span></span></code></pre><pre><code class="language-html"><span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#each</span><span class="token javascript"> items <span class="token keyword">as</span> item<span class="token punctuation">,</span> index</span><span class="token punctuation">}</span></span>...<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/each</span><span class="token punctuation">}</span></span></code></pre><pre><code class="language-html"><span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#each</span><span class="token javascript"> items <span class="token keyword">as</span> </span><span class="token punctuation">{</span><span class="token javascript">id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> key1<span class="token punctuation">,</span> key2</span><span class="token punctuation">}</span></span> }...<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/each</span><span class="token punctuation">}</span></span></code></pre><pre><code class="language-html"><span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#each</span><span class="token javascript"> items <span class="token keyword">as</span> item<span class="token punctuation">,</span> inde</span><span class="token eachfix"><span class="token javascript">x</span> (item.id)</span><span class="token punctuation">}</span></span>...<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/each</span><span class="token punctuation">}</span></span></code></pre><pre><code class="language-html"><span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#each</span><span class="token javascript"> items <span class="token keyword">as</span> item<span class="token punctuation">,</span> inde</span><span class="token eachfix"><span class="token javascript">x</span> (index)</span><span class="token punctuation">}</span></span>...<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/each</span><span class="token punctuation">}</span></span></code></pre><pre><code class="language-html"><span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#each</span><span class="token javascript"> number <span class="token keyword">as</span> value</span><span class="token punctuation">}</span></span>...<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/each</span><span class="token punctuation">}</span></span></code></pre><h2 id="fragment">#fragment</h2>
<div class="columns2"><div><p>You can declare some fragment to reuse it a few times other places. Also it can be declared anywhere, e.g. inside of the <code>#each</code>, so it will have all scoped variables.
<a target="_blank" href="https://malinajs.github.io/repl/#/share/QzoQntzlIxI?version=0.6.36">example</a></p></div><div><pre><code class="language-html"><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#fragment</span><span class="token selector">:button</span><span class="token javascript"> text</span><span class="token punctuation">}</span></span>
    <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">div</span></span> <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>col-sm-6 smallpad<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">button</span></span><span class="token event"> <span class="token keyword">@@</span><span class="token attr-name">click</span></span> <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>btn<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">text</span><span class="token punctuation">}</span></span><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">button</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/fragment</span><span class="token punctuation">}</span></span>

  <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">fragment</span><span class="token selector">:button</span></span> <span class="token attr-name">text</span><span class="token attr-value">='Left<span class="token punctuation">'</span></span><span class="token event"> <span class="token keyword">@</span><span class="token attr-name">click</span><span class="token javascript">:left</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">fragment</span><span class="token selector">:button</span></span> <span class="token attr-name">text</span><span class="token attr-value">='Right<span class="token punctuation">'</span></span><span class="token event"> <span class="token keyword">@</span><span class="token attr-name">click</span><span class="token javascript">:right</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>


<br>
Also you can call it recursively.

<pre><code class="language-html"><span class="token script"><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span><span class="token javascript">
  <span class="token keyword">let</span> tree <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'OS'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Linux'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Ubuntu'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Debian'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'RedHat'</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'MacOS X'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">click</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span></span>

<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">fragment</span><span class="token selector">:draw</span></span> <span class="token attr-name">list</span><span class="token punctuation">=</span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">tree</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>

<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#fragment</span><span class="token selector">:draw</span><span class="token javascript"> list</span><span class="token punctuation">}</span></span>
  <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">ul</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#each</span><span class="token javascript"> list <span class="token keyword">as</span> it</span><span class="token punctuation">}</span></span>
    <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">li</span></span><span class="token event"> <span class="token keyword">@</span><span class="token attr-name">click|<span class="token italic">stopPropagation</span></span></span><span class="token punctuation">=</span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript"><span class="token function">click</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span>name<span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token expression"><span class="token punctuation">{</span><span class="token javascript">it<span class="token punctuation">.</span>name</span><span class="token punctuation">}</span></span>
      <span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#if</span><span class="token javascript"> it<span class="token punctuation">.</span>children</span><span class="token punctuation">}</span></span>
        <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">fragment</span><span class="token selector">:draw</span></span> <span class="token attr-name">list</span><span class="token punctuation">=</span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">it<span class="token punctuation">.</span>children</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/if</span><span class="token punctuation">}</span></span>
    <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">li</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/each</span><span class="token punctuation">}</span></span>
  <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">ul</span></span><span class="token punctuation">&gt;</span></span>
<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/fragment</span><span class="token punctuation">}</span></span></code></pre><div class="columns2"><div><p>Also you can pass slot to fragment,
<a target="_blank" href="https://malinajs.github.io/repl/#/share/jgtdUmDtkJK?version=0.6.36">example</a></p></div><div><pre><code class="language-html"><span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#fragment</span><span class="token selector">:field</span><span class="token punctuation">}</span></span>
  <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">div</span></span> <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>field<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">slot</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span>
<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/fragment</span><span class="token punctuation">}</span></span>

<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">fragment</span><span class="token selector">:field</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">button</span></span><span class="token punctuation">&gt;</span></span>Click<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">button</span></span><span class="token punctuation">&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token keyword">fragment</span></span><span class="token punctuation">&gt;</span></span>

<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">fragment</span><span class="token selector">:field</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">input</span></span> <span class="token attr-name">type</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token keyword">fragment</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>


<h2 id="await">#await</h2>
<div class="columns2"><div><p>You can await a promise to display placeholder etc.</p></div><div><pre><code class="language-html"><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span>
<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#await</span><span class="token javascript"> promise</span><span class="token punctuation">}</span></span>
  Loading...
<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">:then</span><span class="token javascript"> value</span><span class="token punctuation">}</span></span>
  Data: <span class="token expression"><span class="token punctuation">{</span><span class="token javascript">value</span><span class="token punctuation">}</span></span>
<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">:catch</span><span class="token javascript"> error</span><span class="token punctuation">}</span></span>
  Loading error: <span class="token expression"><span class="token punctuation">{</span><span class="token javascript">error</span><span class="token punctuation">}</span></span>
<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/await</span><span class="token punctuation">}</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>


<p>Possible options:</p>
<pre><code class="language-html"><span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#await</span><span class="token javascript"> expression</span><span class="token punctuation">}</span></span>...<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">:then</span><span class="token javascript"> name</span><span class="token punctuation">}</span></span>...<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">:catch</span><span class="token javascript"> name</span><span class="token punctuation">}</span></span>...<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/await</span><span class="token punctuation">}</span></span></code></pre><pre><code class="language-html"><span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#await</span><span class="token javascript"> expression</span><span class="token punctuation">}</span></span>...<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">:then</span><span class="token javascript"> name</span><span class="token punctuation">}</span></span>...<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/await</span><span class="token punctuation">}</span></span></code></pre><pre><code class="language-html"><span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#await</span><span class="token javascript"> expression then name</span><span class="token punctuation">}</span></span>...<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/await</span><span class="token punctuation">}</span></span></code></pre><h2 id="html">@html</h2>
<div class="columns2"><div><p>To render some HTML, you can use <code>{@html expression}</code>.</p></div><div><pre><code class="language-html"><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token expression"><span class="token punctuation">{</span><span class="token keyword">@html</span><span class="token javascript"> post<span class="token punctuation">.</span>content</span><span class="token punctuation">}</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>


<h3 id="portal">Portal</h3>
<div class="columns2"><div><p>Portal lets you render a template outside of component, argument <code>mount</code> == 'document.body' by default.
<a target="_blank" href="https://malinajs.github.io/repl/#/share/EQIPLZrARiM?version=0.6.36">example</a></p></div><div><pre><code class="language-html"><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">malina</span><span class="token selector">:portal</span></span> <span class="token attr-name">mount</span><span class="token punctuation">=</span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">document<span class="token punctuation">.</span>body</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">div</span></span> <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>popup<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">h1</span></span><span class="token punctuation">&gt;</span></span>Popup<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">h1</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">p</span></span><span class="token punctuation">&gt;</span></span>Some text<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">p</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">malina</span><span class="token selector">:portal</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>


<h2 id="head--body--window">head / body / window</h2>
<div class="columns2"><div><p>These special elements lets you handle head/body/window:
<a target="_blank" href="https://malinajs.github.io/repl/#/share/EG0Q_RI2cfo?version=0.6.36">example</a></p></div><div><pre><code class="language-html"><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">malina</span><span class="token selector">:head</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">title</span></span><span class="token punctuation">&gt;</span></span>Set title<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">title</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">link</span></span> <span class="token attr-name">rel</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>theme.css<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">malina</span><span class="token selector">:head</span></span><span class="token punctuation">&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">malina</span><span class="token selector">:body</span></span><span class="token event"> <span class="token keyword">@</span><span class="token attr-name">keydown|<span class="token italic">esc</span></span><span class="token javascript">:escape</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">malina</span><span class="token selector">:window</span></span><span class="token event"> <span class="token keyword">@</span><span class="token attr-name">scroll</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div></div>


<h1 id="components">Components</h1>
<h2 id="structure">Structure</h2>
<div class="columns2"><div><p>A component can have script block, style block and rest content becomes a template</p></div><div><pre><code class="language-html"><span class="token script"><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span><span class="token javascript">
  <span class="token operator">...</span>
</span><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span></span>

... content ...

<span class="token style"><span class="token styletag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">style</span></span><span class="token punctuation">&gt;</span></span></span><span class="token css">
  ...
</span><span class="token styletag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">style</span></span><span class="token punctuation">&gt;</span></span></span></span></code></pre></div></div>


<div class="columns2"><div><p>You can import a component <code>import Component from './Component.html'</code>, and use it in template as <code>&lt;Component /&gt;</code>, a component should start with capital letter.</p></div><div><pre><code class="language-html"><span class="token script"><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span><span class="token javascript">
  <span class="token keyword">import</span> Component <span class="token keyword">from</span> <span class="token string">'./Component.html'</span><span class="token punctuation">;</span>
</span><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span></span>

<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">Component</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div></div>


<h2 id="properties-and-attributes">Properties and attributes</h2>
<div class="columns2"><div><p>You can pass some arguments into a component, it's a 1-way binding.</p><p>Also you can spread an object to pass all values as arguments.</p><p>If you need to detect changes inside of an object (deep-checking), then you can use modifier "deep" or option "deepCheckingProps".</p></div><div><pre><code class="language-html"><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">Component</span></span> <span class="token attr-name">value</span><span class="token punctuation">=</span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">expression</span><span class="token punctuation">}</span></span> <span class="token expression"><span class="token punctuation">{</span><span class="token javascript">name</span><span class="token punctuation">}</span></span> <span class="token expression"><span class="token punctuation">{</span><span class="token javascript"><span class="token operator">...</span>obj</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">Component</span></span> <span class="token attr-name">value</span>|deep<span class="token punctuation">=</span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">expression</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div></div>




<div class="columns2"><div><p>You can use keyword <code>export</code> to mark a variable as property, so it will receive a value from parent component and will be updated on changes. Also you can export a function, it will be available in instance for parent component <a target="_blank" href="https://malinajs.github.io/repl/#/share/rGdzUaokFp_?version=0.7.9">example</a></p><p>A parent can pass more arguments than number of props in a component, so all arguments will be available in <code>$props</code>, and all arguments which are not property are in <code>$attributes</code>.</p></div><div><pre><code class="language-html"><span class="token script"><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span><span class="token javascript">
  <span class="token keyword">export</span> <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'default'</span><span class="token punctuation">;</span>

  </span><span class="token keyword">$props</span><span class="token javascript">
  </span><span class="token keyword">$attributes</span><span class="token javascript">
</span><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span></span>

<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">input</span></span> <span class="token expression"><span class="token punctuation">{</span><span class="token javascript"><span class="token operator">...</span></span><span class="token keyword">$props</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">input</span></span> <span class="token expression"><span class="token punctuation">{</span><span class="token javascript"><span class="token operator">...</span></span><span class="token keyword">$attributes</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div></div>



<h2 id="2-way-binding-1">2-way binding</h2>
<div class="columns2"><div><p>Syntax for 2-way binding is the same as for elements.</p></div><div><pre><code class="language-html"><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">Component</span></span><span class="token bind"> <span class="token keyword">:</span><span class="token attr-name">value=</span></span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">variable</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div></div>


<h2 id="events-1">Events</h2>
<div class="columns2"><div><p>It's possible to listen an event, forward an event and forward all events. Syntax for events is the same as for elements.</p></div><div><pre><code class="language-html"><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">Component</span></span><span class="token event"> <span class="token keyword">@</span><span class="token attr-name">click</span><span class="token javascript">:handler</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div></div>


<div class="columns2"><div><p>Also you can emit an custom event, for this you can use a built function <code>$emit(eventName, details)</code>.</p></div><div><pre><code class="language-html"><span class="token script"><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span><span class="token javascript">
  </span><span class="token keyword">$emit</span><span class="token javascript"><span class="token punctuation">(</span><span class="token string">'myevent'</span><span class="token punctuation">,</span> <span class="token string">'info'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span></span></code></pre></div></div>


<h2 id="slots">Slots</h2>
<div class="columns2"><div><p>You can pass slots to a child component. To pass a default slot:</p></div><div><pre><code class="language-html"><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">Child</span></span><span class="token punctuation">&gt;</span></span>
  Some content
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token keyword">Child</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Child.html --&gt;</span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">slot</span></span><span class="token punctuation">&gt;</span></span>No content<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token keyword">slot</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>


<div class="columns2"><div><p>To pass named slots:</p></div><div><pre><code class="language-html"><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">Child</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#slot</span><span class="token selector">:title</span><span class="token punctuation">}</span></span>
    Some title
  <span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/slot</span><span class="token punctuation">}</span></span>

  Some content

  <span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#slot</span><span class="token selector">:footer</span><span class="token punctuation">}</span></span>
    Some footer
  <span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/slot</span><span class="token punctuation">}</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token keyword">Child</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Child.html --&gt;</span>

<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">slot</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">slot</span></span><span class="token punctuation">&gt;</span></span>No content<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token keyword">slot</span></span><span class="token punctuation">&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">slot</span><span class="token selector">:title</span></span><span class="token punctuation">&gt;</span></span>No title<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token keyword">slot</span></span><span class="token punctuation">&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">slot</span><span class="token selector">:footer</span></span><span class="token punctuation">&gt;</span></span>No title<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token keyword">slot</span></span><span class="token punctuation">&gt;</span></span> or <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">slot</span><span class="token selector">:footer</span></span><span class="token punctuation">&gt;</span></span>No title<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token keyword">slot</span><span class="token selector">:footer</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>


<div class="columns2"><div><p>A child component can pass a property to parent slot:</p></div><div><pre><code class="language-html"><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">Child</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#slot</span><span class="token javascript"> prop</span><span class="token punctuation">}</span></span>
    Some content <span class="token expression"><span class="token punctuation">{</span><span class="token javascript">prop<span class="token punctuation">.</span>value</span><span class="token punctuation">}</span></span> <span class="token expression"><span class="token punctuation">{</span><span class="token javascript">parentVar</span><span class="token punctuation">}</span></span>
  <span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/slot</span><span class="token punctuation">}</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token keyword">Child</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Child.html --&gt;</span>

<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#each</span><span class="token javascript"> items <span class="token keyword">as</span> item</span><span class="token punctuation">}</span></span>
  <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">slot</span></span> <span class="token attr-name">prop</span><span class="token punctuation">=</span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">item</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>No content <span class="token expression"><span class="token punctuation">{</span><span class="token javascript">childVar</span><span class="token punctuation">}</span></span><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token keyword">slot</span></span><span class="token punctuation">&gt;</span></span>
<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/each</span><span class="token punctuation">}</span></span></code></pre></div></div>


<h2 id="call-child-fragment--inverted-slot">Call child fragment / Inverted slot</h2>
<div class="columns2"><div><p>You can call a fragment from child component, it looks like inverted slot,
<a target="_blank" href="https://malinajs.github.io/repl/#/share/TJLjJATAvKX?version=0.6.39">example</a></p></div><div><pre><code class="language-html"><span class="token comment">&lt;!-- Child --&gt;</span>
<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">#fragment</span><span class="token selector">:title</span><span class="token javascript"> <span class="token keyword">export</span></span><span class="token punctuation">}</span></span>
  <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">h1</span></span> <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>header<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">name</span><span class="token punctuation">}</span></span><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">h1</span></span><span class="token punctuation">&gt;</span></span>
<span class="token expression"><span class="token punctuation">{</span><span class="token keyword">/fragment</span><span class="token punctuation">}</span></span>

<span class="token comment">&lt;!-- App --&gt;</span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">Child</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">Child</span><span class="token selector">:title</span></span><span class="token punctuation">&gt;</span></span>Header<span class="token html">&lt;<span class="token punctuation">/&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token keyword">Child</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>


<h2 id="anchor">Anchor</h2>
<div class="columns2"><div><p>It lets you pass controls (classes, events, actions etc) without template to child component.
<a target="_blank" href="https://malinajs.github.io/repl/#/gist/2824bcb54eab5f9b4dded54c59298944?version=0.6.36">example</a></p></div><div><pre><code class="language-html"><span class="token comment">&lt;!-- App --&gt;</span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">Child</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token html">&lt;^root <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>border<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token html">&lt;^name <span class="token attr-name">style</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>font-weight: bold; color: red<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token html">&lt;^input <span class="token attr-name">type</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token action"> <span class="token keyword">*</span><span class="token javascript">action</span></span><span class="token bind"> <span class="token keyword">:</span><span class="token attr-name">value</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token keyword">Child</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Child --&gt;</span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">div</span></span> ^root<span class="token punctuation">&gt;</span></span>
  <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">span</span></span> ^name<span class="token punctuation">&gt;</span></span>Name<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">span</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">input</span></span> ^input <span class="token punctuation">/&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>


<h2 id="dynamic-component">Dynamic component</h2>
<div class="columns2"><div><p>Dynamic component let you to attach a component from variable/expression.</p></div><div><pre><code class="language-html"><span class="token script"><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span><span class="token javascript">
  <span class="token keyword">import</span> Music <span class="token keyword">from</span> <span class="token string">'./Music.xht'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> Movie <span class="token keyword">from</span> <span class="token string">'./Movie.xht'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">let</span> comp<span class="token punctuation">,</span> x<span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    comp <span class="token operator">=</span> comp <span class="token operator">==</span> Music <span class="token operator">?</span> Movie <span class="token operator">:</span> Music<span class="token punctuation">;</span>
    x <span class="token operator">^=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span></span>

<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">component</span><span class="token selector">:comp</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">component</span>:</span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">x <span class="token operator">?</span> Music <span class="token operator">:</span> Movie</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">button</span></span><span class="token event"> <span class="token keyword">@</span><span class="token attr-name">click</span><span class="token javascript">:toggle</span></span><span class="token punctuation">&gt;</span></span>Switch<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">button</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>


<h2 id="passing-css-class">Passing CSS class</h2>
<p>You can pass classes into child components using property <code>class</code>, to be able to use it in child class you have to place such classes in <code>external</code> block.
<a target="_blank" href="https://malinajs.github.io/repl/#/gist/065441c1187bfd9ce5f0117b7dbd97f6?version=0.6.36">example</a>, 
<a target="_blank" href="https://malinajs.github.io/repl/#/gist/410bb2c1406ea412ad4b4e75616d9581?version=0.6.36">example2</a></p>
<div class="columns2"><div><p><strong>Syntax</strong>: <code>class:childClassName="parentClass globalClass"</code></p><p>In the example, classes <code>red italic</code> is passed as class <code>font</code> in child component. If class is not passed default styles will be used.</p><p>You can pass scoped classes, global classes and use expressions, e.g. <code>class:font="italic {color}"</code></p></div><div><pre><code class="language-html"><span class="token comment">&lt;!-- App --&gt;</span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">Child</span></span><span class="token style"> <span class="token keyword">class:</span><span class="token attr-name">font</span><span class="token punctuation">=</span></span><span class="token attr-value"><span class="token punctuation">"</span>red italic<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- Child --&gt;</span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">div</span></span> <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>font<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Child<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span>

<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">style</span></span> <span class="token attr-name">external</span><span class="token punctuation">&gt;</span></span>
  .font <span class="token expression"><span class="token punctuation">{</span><span class="token javascript"><span class="token literal-property property">color</span><span class="token operator">:</span> blue<span class="token punctuation">;</span></span><span class="token punctuation">}</span></span>  /* style by default */
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">style</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>




<div class="columns2"><div><p>Default class name for child component is <code>main</code>, and you can define it.</p><ul>
<li>Also you can pass partly global classes (e.g. <code>.button :global(.title)</code>)</li>
<li>Passing pseudo-classes (:hover etc)</li>
<li>Forward a class further</li>
</ul></div><div><pre><code class="language-html"><span class="token comment">&lt;!-- App --&gt;</span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">Child</span></span> <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>red italic<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- Child --&gt;</span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">div</span></span> <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>main<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Child<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span>

<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">style</span></span> <span class="token attr-name">external</span> <span class="token attr-name">main</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>main<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  .main <span class="token expression"><span class="token punctuation">{</span><span class="token javascript"><span class="token literal-property property">color</span><span class="token operator">:</span> blue<span class="token punctuation">;</span></span><span class="token punctuation">}</span></span>  /* style by default */
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">style</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>



<div class="columns2"><div><p>If class name starts with <code>$</code> it's marked as external
<a target="_blank" href="https://malinajs.github.io/repl/#/share/0O8PvtvEW37?version=0.6.36">example</a></p></div><div><pre><code class="language-html"><span class="token comment">&lt;!-- App --&gt;</span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">Child</span></span> <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>red italic<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- Child --&gt;</span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">div</span></span> <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>$main<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Child<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">div</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>


<h1 id="other">Other</h1>
<h2 id="property">Property</h2>
<div class="columns2"><div><p>If you have an instance of component, you can read/write properties directly, a component should have attribute <code>property</code>.</p></div><div><pre><code class="language-html"><span class="token comment">&lt;!-- Component --&gt;</span>
<span class="token script"><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">script</span></span> <span class="token attr-name">property</span><span class="token punctuation">&gt;</span></span></span><span class="token javascript">
  <span class="token keyword">export</span> <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span></span>

<span class="token comment">&lt;!-- App --&gt;</span>
<span class="token script"><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span><span class="token javascript">
  <span class="token keyword">import</span> Component <span class="token keyword">from</span> <span class="token string">'./Component.html'</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> comp<span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    comp<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">Component</span></span><span class="token ref"> <span class="token keyword">#</span><span class="token javascript">comp</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div></div>


<h2 id="onmount--ondestroy">onMount / onDestroy</h2>
<div class="columns2"><div><p>If you need to perform some code after mounting or during destroying a component, you can use built functions <code>$onMount(fn)</code>, <code>$onDestroy(fn)</code>. You can use <code>$onDestroy</code> on different levels of code.</p><p>You can delay removing DOM on destroying if you return a promise, <a target="_blank" href="https://malinajs.github.io/repl/#/share/j-JUlbA5lFu?version=0.7.9">example with component</a>, <a target="_blank" href="https://malinajs.github.io/repl/#/share/_ScgSgeWPvB?version=0.7.9">example with action</a>, <a target="_blank" href="https://malinajs.github.io/repl/#/share/2iCAGmabEet?version=0.7.9">example + async/await</a></p></div><div><pre><code class="language-html"><span class="token script"><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span><span class="token javascript">
  <span class="token function">called_at_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  </span><span class="token keyword">$onMount</span><span class="token javascript"><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span><span class="token keyword">$onDestroy</span><span class="token javascript"><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token keyword">Component</span></span><span class="token ref"> <span class="token keyword">#</span><span class="token javascript">comp</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div></div>



<h2 id="turn-change-detector-off">Turn change-detector off</h2>
<div class="columns2"><div><p>In some cases you can turn off change detection, e.g. if a component doesn't expect changes, like component "Icon":</p><ul>
<li>If to set attribute <code>read-only</code> on script tag, change-detector will be off for this component.</li>
<li>If you <code>export const name</code> instead <code>export let name</code>, then some runtime will be omitted for such property.</li>
<li>Keyword <code>!no-check</code> in comment tells compiler to skips such js-block for "detections".</li>
</ul></div><div><pre><code class="language-html"><span class="token script"><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">script</span></span> <span class="token attr-name">read-only</span><span class="token punctuation">&gt;</span></span></span><span class="token javascript">
  <span class="token keyword">export</span> <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// !no-check</span>
    <span class="token operator">...</span> some not detected code <span class="token operator">...</span>
  <span class="token punctuation">}</span>
</span><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span></span></code></pre></div></div>



<h2 id="scoped-css">Scoped CSS</h2>
<div class="columns2"><div><p>Malina.js makes all styles are scoped for a component, it appends a prefix class to styles and elements from template based on selector, so only required elements are marked.</p><p>Using keyword <code>:global()</code> you make certain style as global.</p></div><div><pre><code class="language-html"><span class="token style"><span class="token styletag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">style</span></span><span class="token punctuation">&gt;</span></span></span><span class="token css">
  <span class="token selector">span</span> <span class="token punctuation">{</span>
    <span class="token comment">/* all &lt;span&gt; elements, only from
    current component will be affected */</span>
  <span class="token punctuation">}</span>
  <span class="token selector">:global(body)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* effects on &lt;body&gt; */</span>
  <span class="token punctuation">}</span>
  <span class="token selector">div :global(span)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* effects on all &lt;span&gt; elements
    (including child components)
    inside of &lt;div&gt; from current component */</span>
  <span class="token punctuation">}</span>
</span><span class="token styletag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">style</span></span><span class="token punctuation">&gt;</span></span></span></span></code></pre></div></div>



<div class="columns2"><div><p>Also you can mark whole style-block as global</p></div><div><pre><code class="language-html"><span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">style</span></span> <span class="token attr-name">global</span><span class="token punctuation">&gt;</span></span>
  span <span class="token expression"><span class="token punctuation">{</span><span class="token javascript"> <span class="token comment">/* ... */</span> </span><span class="token punctuation">}</span></span>
<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">style</span></span><span class="token punctuation">&gt;</span></span></code></pre></div></div>


<h2 id="watch-expression-reactivity">Watch expression, reactivity</h2>
<div class="columns2"><div><p>Using syntax <code>$:</code> you can observe changes.</p><p>Computed value: <code>$: value = a + b</code>, <code>value</code> will be changed when an expression gives another result.</p><p>To observe changes in expression and call handler: <code>$: exp, handler()</code>.
It can contain a few expressions: <code>$: exp1, exp2, a+b, handler()</code>.</p><p>Handler also can be link to function or statement: <code>$: exp, (newValue) =&gt; console.log(newValue);</code> or
<code>$: exp, console.log(exp)</code> or <code>$: exp, handler</code></p></div><div><pre><code class="language-html"><span class="token script"><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span><span class="token javascript">
  <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  </span><span class="token keyword">$:</span><span class="token javascript"> header <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span><span class="token keyword">$:</span><span class="token javascript"> name<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span><span class="token keyword">$:</span><span class="token javascript"> a <span class="token operator">+</span> b<span class="token punctuation">,</span> onChangeSum
</span><span class="token scriptag"><span class="token htmltag"><span class="token tagstart"><span class="token punctuation">&lt;/</span><span class="token tag">script</span></span><span class="token punctuation">&gt;</span></span></span></span>

<span class="token html"><span class="token tagstart"><span class="token punctuation">&lt;</span><span class="token tag">input</span></span> <span class="token attr-name">type</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token bind"> <span class="token keyword">:</span><span class="token attr-name">value=</span></span><span class="token expression"><span class="token punctuation">{</span><span class="token javascript">name</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div></div>





<h2 id="context">$context</h2>
<div class="columns2"><div><p>An arbitrary context object of a component, a content is available in child components. For external libs it must be imported from "malinajs" and used during component initialisation.
<a target="_blank" href="https://malinajs.github.io/repl/#/share/NeIq-KUQnTD?version=0.6.36">example</a></p></div><div><pre><code class="language-js"><span class="token comment">// App.xht</span>
$context<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'Test'</span><span class="token punctuation">;</span>

<span class="token comment">// Child.xht</span>
<span class="token keyword">let</span> value <span class="token operator">=</span> $context<span class="token punctuation">.</span>value<span class="token punctuation">;</span>

<span class="token comment">// lib.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> $context <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'malinajs'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> value <span class="token operator">=</span> $context<span class="token punctuation">.</span>value<span class="token punctuation">;</span></code></pre></div></div>


<h2 id="error-handling">Error handling</h2>
<div class="columns2"><div><p>Errors which can't be caught by try-catch is handled by Malina.js and displayed to console, but you can override it.
<a target="_blank" href="https://malinajs.github.io/repl/#/share/b-V7WaMo4iC?version=0.6.36">example</a></p></div><div><pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>configure<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"malinajs/runtime.js"</span><span class="token punctuation">;</span>
<span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">onerror</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div></div>


<h2 id="malinaconfigjs">malina.config.js</h2>
<p>You can override config for any folder, you can save <code>malina.config.js</code> in target folder. It lets you use different config/plugins for different folders/libs.</p>
<pre><code class="language-js"><span class="token keyword">const</span> sassPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../plugins/sass.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">option<span class="token punctuation">,</span> filename</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  option<span class="token punctuation">.</span>passClass <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  option<span class="token punctuation">.</span>immutable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  option<span class="token punctuation">.</span>plugins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">sassPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  option<span class="token punctuation">.</span><span class="token function-variable function">autoimport</span> <span class="token operator">=</span> <span class="token parameter">name</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">import </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> from './</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.xht';</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> option<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><h2 id="compile-options">Compile options</h2>
<ul>
<li>warning - (function) to receive warnings</li>
<li>inlineTemplate - (true/false) convert new line to \n</li>
<li>hideLabel - (true/false) hide comment tags (labels) from DOM</li>
<li>compact - (true/false) remove spaces between DOM elements</li>
<li>autoSubscribe - (true/false) autosubscribe imported stores</li>
<li>cssGenId - (function) generate hash for css classes</li>
<li>debugLabel - (true/false) adds info label nodes</li>
<li>css - (true/false/function) controls how to handle CSS, true - adds css to JS bundle, false - into outside css file, function - intercepts css for manual handling</li>
<li>passClass - (true/false) passing classes to child component, it's true by default.</li>
<li>immutable - (true/false) if true it doesn't perform deep comparison of objects</li>
<li>autoimport - a function to handle missed components e.g. <code>(name) =&gt; "import ${name} from './${name}.xht';";</code></li>
<li>deepCheckingProps - (true/false) deep-checking of value which is passed as property to child component.</li>
</ul>
</body>
        </div>
      </div>
    </div>
  </div>

  </body>
</html>
